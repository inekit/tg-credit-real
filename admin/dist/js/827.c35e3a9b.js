"use strict";(self["webpackChunk_coreui_coreui_free_vue_admin_template"]=self["webpackChunk_coreui_coreui_free_vue_admin_template"]||[]).push([[827],{5827:function(e,t,n){n.r(t),n.d(t,{default:function(){return Lr}});var r=n(3396);function i(e,t,n,i,s,o){const l=(0,r.up)("AddItemModal"),a=(0,r.up)("Table");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(l,{visible:s.formVisible,formData:s.formData,mode:e.formMode},null,8,["visible","formData","mode"]),(0,r.Wm)(a,{fields:s.tableFieldNames,postData:o.get,actions:s.dataActions,rows:s.rows,editMode:"form",name:"Позиции"},null,8,["fields","postData","actions","rows"])])}var s=n(9242),o=n(7139);const l=e=>((0,r.dD)("data-v-4ce18204"),e=e(),(0,r.Cn)(),e),a={class:"projects-list"},c=l((()=>(0,r._)("span",null,"Категория",-1))),p={class:"options-shedle"},h=l((()=>(0,r._)("span",null,"Опции",-1))),u={class:"table"},f=l((()=>(0,r._)("td",null,[(0,r.Uk)("Размер"),(0,r._)("br"),(0,r.Uk)(" Материал")],-1))),d=l((()=>(0,r._)("td",null,null,-1))),g={class:"border p-2 mt-3 preview-container"},k=["src"],m=["onClick"];function b(e,t,n,i,l,b){const _=(0,r.up)("CButton"),v=(0,r.up)("CModalTitle"),x=(0,r.up)("CModalHeader"),y=(0,r.up)("CFormInput"),w=(0,r.up)("CFormCheck"),A=(0,r.up)("CInputGroup"),C=(0,r.up)("QuillEditor"),S=(0,r.up)("CModalBody"),M=(0,r.up)("CModalFooter"),$=(0,r.up)("CForm"),z=(0,r.up)("CModal");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(_,{color:"primary",onClick:b.addNewPost},{default:(0,r.w5)((()=>[(0,r.Uk)("Добавить товар")])),_:1},8,["onClick"]),(0,r.Wm)(z,{size:"xl",backdrop:"static",alignment:"center",visible:n.visible,onClose:b.closeModal},{default:(0,r.w5)((()=>[(0,r.Wm)($,{novalidate:"",validated:l.formValid,ref:"add-file-form",onChange:e.wregert,onSubmit:t[5]||(t[5]=(0,s.iM)((e=>"new"===n.mode?b.addNewing():b.editNewing()),["prevent"])),class:"add-user",style:{display:"'none'"}},{default:(0,r.w5)((()=>[(0,r.Wm)(x,null,{default:(0,r.w5)((()=>[(0,r.Wm)(v,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)("new"===n.mode?"Добавить товар":"Редактировать товар"),1)])),_:1})])),_:1}),(0,r.Wm)(S,null,{default:(0,r.w5)((()=>[(0,r.Wm)(y,{class:"mb-3",modelValue:n.formData.title,"onUpdate:modelValue":t[0]||(t[0]=e=>n.formData.title=e),placeholder:"Заголовок",id:"inputHeader","aria-describedby":"inputGroupPrepend",feedbackValid:"Все ок",feedbackInvalid:"Введите корректный заголовок",required:""},null,8,["modelValue"]),(0,r._)("div",a,[c,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.projects,(e=>((0,r.wg)(),(0,r.j4)(w,{key:e.name,id:e.name,checked:e.name===n.formData.category_name,onChange:b.changeP,type:"radio",name:"project-name",value:e.name,label:e.name},null,8,["id","checked","onChange","value","label"])))),128)),(0,r.Wm)(w,{id:"null-name",checked:!n.formData.category_name,onChange:b.changeP,type:"radio",name:"project-name",value:"",label:"Без категорий"},null,8,["checked","onChange"])]),(0,r._)("div",p,[h,(0,r._)("table",u,[(0,r._)("thead",null,[(0,r._)("tr",null,[f,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.distinct_sizes,(e=>((0,r.wg)(),(0,r.iD)("td",{key:"sizeh-"+e},[(0,r.Uk)((0,o.zw)(e)+" ",1),(0,r.Wm)(_,{color:"secondary",onClick:t=>b.dropSize(e)},{default:(0,r.w5)((()=>[(0,r.Uk)("X")])),_:2},1032,["onClick"])])))),128)),(0,r._)("td",null,[(0,r.Wm)(A,{class:""},{default:(0,r.w5)((()=>[(0,r.Wm)(y,{placeholder:"Новый размер",type:"text",modelValue:l.tempSize,"onUpdate:modelValue":t[1]||(t[1]=e=>l.tempSize=e)},null,8,["modelValue"]),(0,r.Wm)(_,{class:"add-button",type:"button",color:"secondary",onClick:t[2]||(t[2]=e=>b.addSize(l.tempSize)),variant:"outline"},{default:(0,r.w5)((()=>[(0,r.Uk)("Добавить")])),_:1})])),_:1})])])]),(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.distinct_materials,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:"material-"+e},[(0,r._)("td",null,[(0,r.Uk)((0,o.zw)(e)+" ",1),(0,r.Wm)(_,{color:"secondary",onClick:t=>b.dropMaterial(e)},{default:(0,r.w5)((()=>[(0,r.Uk)("X")])),_:2},1032,["onClick"])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.distinct_sizes,(t=>((0,r.wg)(),(0,r.iD)("td",{key:"size-"+t},[(0,r.Wm)(y,{type:"text",modelValue:l.options_object[e][t],"onUpdate:modelValue":n=>l.options_object[e][t]=n},null,8,["modelValue","onUpdate:modelValue"])])))),128)),d])))),128)),(0,r._)("tr",null,[(0,r._)("td",null,[(0,r.Wm)(A,{class:""},{default:(0,r.w5)((()=>[(0,r.Wm)(y,{placeholder:"Новый материал",type:"text",modelValue:l.tempMaterial,"onUpdate:modelValue":t[3]||(t[3]=e=>l.tempMaterial=e)},null,8,["modelValue"]),(0,r.Wm)(_,{class:"add-button",type:"button",color:"secondary",onClick:t[4]||(t[4]=e=>b.addMaterial(l.tempMaterial)),variant:"outline"},{default:(0,r.w5)((()=>[(0,r.Uk)("Добавить ")])),_:1})])),_:1})])])])])]),(0,r.Wm)(y,{type:"file",accept:"image/*",multiple:"multiple",ref:"file",onChange:b.previewMultiImage,class:"mb-3",label:"Превью",placeholder:"Превью"},null,8,["onChange"]),(0,r._)("div",g,[l.preview_list?.length?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:0},(0,r.Ko)(l.preview_list,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("img",{src:e,class:"img-fluid"},null,8,k),(0,r._)("button",{onClick:(0,s.iM)((e=>b.dropFile(t)),["prevent"])},"Х",8,m)])))),128)):(0,r.kq)("",!0)]),(0,r.Wm)(C,{theme:"snow",toolbar:"essential",ref:"postTextEditor",id:"postTextEditor",placeholder:"Краткое описание"},null,512)])),_:1}),(0,r.Wm)(M,null,{default:(0,r.w5)((()=>[(0,r.Wm)(_,{color:"secondary",onClick:b.closeModal},{default:(0,r.w5)((()=>[(0,r.Uk)(" Отменить ")])),_:1},8,["onClick"]),(0,r.wy)((0,r.Wm)(_,{color:"primary",type:"submit"},{default:(0,r.w5)((()=>[(0,r.Uk)("Добавить")])),_:1},512),[[s.F8,"new"===n.mode]]),(0,r.wy)((0,r.Wm)(_,{color:"primary",type:"submit"},{default:(0,r.w5)((()=>[(0,r.Uk)("Редактировать")])),_:1},512),[[s.F8,"edit"===n.mode]])])),_:1})])),_:1},8,["validated","onChange"])])),_:1},8,["visible","onClose"])],64)}n(7658);var _=n(6265),v=n.n(_),x=n(6149);n(541);function y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}function w(e,t){return Array(t+1).join(e)}function A(e){return e.replace(/^\n*/,"")}function C(e){var t=e.length;while(t>0&&"\n"===e[t-1])t--;return e.substring(0,t)}var S=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function M(e){return D(e,S)}var $=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function z(e){return D(e,$)}function T(e){return O(e,$)}var E=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function I(e){return D(e,E)}function R(e){return O(e,E)}function D(e,t){return t.indexOf(e.nodeName)>=0}function O(e,t){return e.getElementsByTagName&&t.some((function(t){return e.getElementsByTagName(t).length}))}var N={};function L(e){return e?e.replace(/(\n+\s*)+/g,"\n"):""}function j(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function q(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(Z(i,t,n))return i}}function Z(e,t,n){var r=e.filter;if("string"===typeof r){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else{if("function"!==typeof r)throw new TypeError("`filter` needs to be a string, array, or function");if(r.call(e,t,n))return!0}}function P(e){var t=e.element,n=e.isBlock,r=e.isVoid,i=e.isPre||function(e){return"PRE"===e.nodeName};if(t.firstChild&&!i(t)){var s=null,o=!1,l=null,a=U(l,t,i);while(a!==t){if(3===a.nodeType||4===a.nodeType){var c=a.data.replace(/[ \r\n\t]+/g," ");if(s&&!/ $/.test(s.data)||o||" "!==c[0]||(c=c.substr(1)),!c){a=B(a);continue}a.data=c,s=a}else{if(1!==a.nodeType){a=B(a);continue}n(a)||"BR"===a.nodeName?(s&&(s.data=s.data.replace(/ $/,"")),s=null,o=!1):r(a)||i(a)?(s=null,o=!0):s&&(o=!1)}var p=U(l,a,i);l=a,a=p}s&&(s.data=s.data.replace(/ $/,""),s.data||B(s))}}function B(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function U(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}N.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},N.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},N.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if("setext"===n.headingStyle&&r<3){var i=w(1===r?"=":"-",e.length);return"\n\n"+e+"\n"+i+"\n\n"}return"\n\n"+w("#",r)+" "+e+"\n\n"}},N.blockquote={filter:"blockquote",replacement:function(e){return e=e.replace(/^\n+|\n+$/g,""),e=e.replace(/^/gm,"> "),"\n\n"+e+"\n\n"}},N.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return"LI"===n.nodeName&&n.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},N.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var r=n.bulletListMarker+"   ",i=t.parentNode;if("OL"===i.nodeName){var s=i.getAttribute("start"),o=Array.prototype.indexOf.call(i.children,t);r=(s?Number(s)+o:o+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},N.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},N.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){var r,i=t.firstChild.getAttribute("class")||"",s=(i.match(/language-(\S+)/)||[null,""])[1],o=t.firstChild.textContent,l=n.fence.charAt(0),a=3,c=new RegExp("^"+l+"{3,}","gm");while(r=c.exec(o))r[0].length>=a&&(a=r[0].length+1);var p=w(l,a);return"\n\n"+p+s+"\n"+o.replace(/\n$/,"")+"\n"+p+"\n\n"}},N.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},N.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href"),r=L(t.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+e+"]("+n+r+")"}},N.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var r,i,s=t.getAttribute("href"),o=L(t.getAttribute("title"));switch(o&&(o=' "'+o+'"'),n.linkReferenceStyle){case"collapsed":r="["+e+"][]",i="["+e+"]: "+s+o;break;case"shortcut":r="["+e+"]",i="["+e+"]: "+s+o;break;default:var l=this.references.length+1;r="["+e+"]["+l+"]",i="["+l+"]: "+s+o}return this.references.push(i),r},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},N.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},N.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},N.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];while(-1!==r.indexOf(n))n+="`";return n+t+e+t+n}},N.image={filter:"img",replacement:function(e,t){var n=L(t.getAttribute("alt")),r=t.getAttribute("src")||"",i=L(t.getAttribute("title")),s=i?' "'+i+'"':"";return r?"!["+n+"]("+r+s+")":""}},j.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=q(this.array,e,this.options))||(t=q(this._keep,e,this.options))||(t=q(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var F="undefined"!==typeof window?window:{};function V(){var e=F.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(n){}return t}function H(){var e=function(){};return W()?e.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t}:e.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t},e}function W(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){window.ActiveXObject&&(e=!0)}return e}var Q,G=V()?F.DOMParser:H();function Y(e,t){var n;if("string"===typeof e){var r=K().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=e.cloneNode(!0);return P({element:n,isBlock:M,isVoid:z,isPre:t.preformattedCode?X:null}),n}function K(){return Q=Q||new G,Q}function X(e){return"PRE"===e.nodeName||"CODE"===e.nodeName}function J(e,t){return e.isBlock=M(e),e.isCode="CODE"===e.nodeName||e.parentNode.isCode,e.isBlank=ee(e),e.flankingWhitespace=te(e,t),e}function ee(e){return!z(e)&&!I(e)&&/^\s*$/i.test(e.textContent)&&!T(e)&&!R(e)}function te(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=ne(e.textContent);return n.leadingAscii&&re("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&re("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function ne(e){var t=e.match(/^(([ \t\r\n]*)(\s*))[\s\S]*?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function re(e,t,n){var r,i,s;return"left"===e?(r=t.previousSibling,i=/ $/):(r=t.nextSibling,i=/^ /),r&&(3===r.nodeType?s=i.test(r.nodeValue):n.preformattedCode&&"CODE"===r.nodeName?s=!1:1!==r.nodeType||M(r)||(s=i.test(r.textContent))),s}var ie=Array.prototype.reduce,se=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function oe(e){if(!(this instanceof oe))return new oe(e);var t={rules:N,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}};this.options=y({},t,e),this.rules=new j(this.options)}function le(e){var t=this;return ie.call(e.childNodes,(function(e,n){n=new J(n,t.options);var r="";return 3===n.nodeType?r=n.isCode?n.nodeValue:t.escape(n.nodeValue):1===n.nodeType&&(r=ce.call(t,n)),pe(e,r)}),"")}function ae(e){var t=this;return this.rules.forEach((function(n){"function"===typeof n.append&&(e=pe(e,n.append(t.options)))})),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function ce(e){var t=this.rules.forNode(e),n=le.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function pe(e,t){var n=C(e),r=A(t),i=Math.max(e.length-n.length,t.length-r.length),s="\n\n".substring(0,i);return n+s+r}function he(e){return null!=e&&("string"===typeof e||e.nodeType&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))}oe.prototype={turndown:function(e){if(!he(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(""===e)return"";var t=le.call(this,new Y(e,this.options));return ae.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!==typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return se.reduce((function(e,t){return e.replace(t[0],t[1])}),e)}};var ue=oe;function fe(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let de=fe();function ge(e){de=e}const ke=/[&<>"']/,me=new RegExp(ke.source,"g"),be=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,_e=new RegExp(be.source,"g"),ve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xe=e=>ve[e];function ye(e,t){if(t){if(ke.test(e))return e.replace(me,xe)}else if(be.test(e))return e.replace(_e,xe);return e}const we=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Ae(e){return e.replace(we,((e,t)=>(t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")))}const Ce=/(^|[^\[])\^/g;function Se(e,t){e="string"===typeof e?e:e.source,t=t||"";const n={replace:(t,r)=>(r=r.source||r,r=r.replace(Ce,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}const Me=/[^\w:]/g,$e=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ze(e,t,n){if(e){let e;try{e=decodeURIComponent(Ae(n)).replace(Me,"").toLowerCase()}catch(r){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!$e.test(n)&&(n=De(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(r){return null}return n}const Te={},Ee=/^[^:]+:\/*[^/]*$/,Ie=/^([^:]+:)[\s\S]*$/,Re=/^([^:]+:\/*[^/]*)[\s\S]*$/;function De(e,t){Te[" "+e]||(Ee.test(e)?Te[" "+e]=e+"/":Te[" "+e]=je(e,"/",!0)),e=Te[" "+e];const n=-1===e.indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(Ie,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(Re,"$1")+t:e+t}const Oe={exec:function(){}};function Ne(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Le(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,i=t;while(--i>=0&&"\\"===n[i])r=!r;return r?"|":" |"})),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>t)r.splice(t);else while(r.length<t)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function je(e,t,n){const r=e.length;if(0===r)return"";let i=0;while(i<r){const s=e.charAt(r-i-1);if(s!==t||n){if(s===t||!n)break;i++}else i++}return e.slice(0,r-i)}function qe(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1}function Ze(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Pe(e,t){if(t<1)return"";let n="";while(t>1)1&t&&(n+=e),t>>=1,e+=e;return n+e}function Be(e,t,n,r){const i=t.href,s=t.title?ye(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:i,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:s,text:ye(o)}}function Ue(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}class Fe{constructor(e){this.options=e||de}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:je(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=Ue(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=je(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,i,s,o,l,a,c,p,h,u,f,d=t[1].trim();const g=d.length>1,k={type:"list",raw:"",ordered:g,start:g?+d.slice(0,-1):"",loose:!1,items:[]};d=g?`\\d{1,9}\\${d.slice(-1)}`:`\\${d}`,this.options.pedantic&&(d=g?d:"[*+-]");const m=new RegExp(`^( {0,3}${d})((?:[\t ][^\\n]*)?(?:\\n|$))`);while(e){if(f=!1,!(t=m.exec(e)))break;if(this.rules.block.hr.test(e))break;if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0],p=e.split("\n",1)[0],this.options.pedantic?(s=2,u=c.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,u=c.slice(s),s+=t[1].length),l=!1,!c&&/^ *$/.test(p)&&(n+=p+"\n",e=e.substring(p.length+1),f=!0),!f){const t=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),r=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),o=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);while(e){if(h=e.split("\n",1)[0],c=h,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),i.test(c))break;if(o.test(c))break;if(t.test(c))break;if(r.test(e))break;if(c.search(/[^ ]/)>=s||!c.trim())u+="\n"+c.slice(s);else{if(l)break;u+="\n"+c}l||c.trim()||(l=!0),n+=h+"\n",e=e.substring(h.length+1)}}k.loose||(a?k.loose=!0:/\n *\n *$/.test(n)&&(a=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(u),r&&(i="[ ] "!==r[0],u=u.replace(/^\[[ xX]\] +/,""))),k.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:u}),k.raw+=n}k.items[k.items.length-1].raw=n.trimRight(),k.items[k.items.length-1].text=u.trimRight(),k.raw=k.raw.trimRight();const b=k.items.length;for(o=0;o<b;o++){this.lexer.state.top=!1,k.items[o].tokens=this.lexer.blockTokens(k.items[o].text,[]);const e=k.items[o].tokens.filter((e=>"space"===e.type)),t=e.every((e=>{const t=e.raw.split("");let n=0;for(const r of t)if("\n"===r&&(n+=1),n>1)return!0;return!1}));!k.loose&&e.length&&t&&(k.loose=!0,k.items[o].loose=!0)}return k}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):ye(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:Le(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r,i,s,o=e.align.length;for(n=0;n<o;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(o=e.rows.length,n=0;n<o;n++)e.rows[n]=Le(e.rows[n],e.header.length).map((e=>({text:e})));for(o=e.header.length,r=0;r<o;r++)e.header[r].tokens=this.lexer.inline(e.header[r].text);for(o=e.rows.length,r=0;r<o;r++)for(s=e.rows[r],i=0;i<s.length;i++)s[i].tokens=this.lexer.inline(s[i].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:ye(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):ye(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=je(e.slice(0,-1),"\\");if((e.length-t.length)%2===0)return}else{const e=qe(t[2],"()");if(e>-1){const n=0===t[0].indexOf("!")?5:4,r=n+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,r).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),Be(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return Be(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;const i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){const n=r[0].length-1;let i,s,o=n,l=0;const a="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;a.lastIndex=0,t=t.slice(-1*e.length+n);while(null!=(r=a.exec(t))){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(s=i.length,r[3]||r[4]){o+=s;continue}if((r[5]||r[6])&&n%3&&!((n+s)%3)){l+=s;continue}if(o-=s,o>0)continue;s=Math.min(s,s+o+l);const t=e.slice(0,n+r.index+(r[0].length-i.length)+s);if(Math.min(n,s)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const a=t.slice(2,-2);return{type:"strong",raw:t,text:a,tokens:this.lexer.inlineTokens(a)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=ye(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=ye(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=ye(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=ye(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=ye(n[0]),r="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):ye(n[0]):n[0]:ye(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const Ve={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Oe,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Ve.def=Se(Ve.def).replace("label",Ve._label).replace("title",Ve._title).getRegex(),Ve.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ve.listItemStart=Se(/^( *)(bull) */).replace("bull",Ve.bullet).getRegex(),Ve.list=Se(Ve.list).replace(/bull/g,Ve.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ve.def.source+")").getRegex(),Ve._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ve._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ve.html=Se(Ve.html,"i").replace("comment",Ve._comment).replace("tag",Ve._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ve.paragraph=Se(Ve._paragraph).replace("hr",Ve.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ve._tag).getRegex(),Ve.blockquote=Se(Ve.blockquote).replace("paragraph",Ve.paragraph).getRegex(),Ve.normal=Ne({},Ve),Ve.gfm=Ne({},Ve.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ve.gfm.table=Se(Ve.gfm.table).replace("hr",Ve.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ve._tag).getRegex(),Ve.gfm.paragraph=Se(Ve._paragraph).replace("hr",Ve.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ve.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ve._tag).getRegex(),Ve.pedantic=Ne({},Ve.normal,{html:Se("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Ve._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Oe,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Se(Ve.normal._paragraph).replace("hr",Ve.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Ve.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const He={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Oe,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Oe,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function We(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Qe(e){let t,n,r="";const i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}He._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",He.punctuation=Se(He.punctuation).replace(/punctuation/g,He._punctuation).getRegex(),He.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,He.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,He._comment=Se(Ve._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),He.emStrong.lDelim=Se(He.emStrong.lDelim).replace(/punct/g,He._punctuation).getRegex(),He.emStrong.rDelimAst=Se(He.emStrong.rDelimAst,"g").replace(/punct/g,He._punctuation).getRegex(),He.emStrong.rDelimUnd=Se(He.emStrong.rDelimUnd,"g").replace(/punct/g,He._punctuation).getRegex(),He._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,He._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,He._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,He.autolink=Se(He.autolink).replace("scheme",He._scheme).replace("email",He._email).getRegex(),He._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,He.tag=Se(He.tag).replace("comment",He._comment).replace("attribute",He._attribute).getRegex(),He._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,He._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,He._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,He.link=Se(He.link).replace("label",He._label).replace("href",He._href).replace("title",He._title).getRegex(),He.reflink=Se(He.reflink).replace("label",He._label).replace("ref",Ve._label).getRegex(),He.nolink=Se(He.nolink).replace("ref",Ve._label).getRegex(),He.reflinkSearch=Se(He.reflinkSearch,"g").replace("reflink",He.reflink).replace("nolink",He.nolink).getRegex(),He.normal=Ne({},He),He.pedantic=Ne({},He.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Se(/^!?\[(label)\]\((.*?)\)/).replace("label",He._label).getRegex(),reflink:Se(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",He._label).getRegex()}),He.gfm=Ne({},He.normal,{escape:Se(He.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),He.gfm.url=Se(He.gfm.url,"i").replace("email",He.gfm._extended_email).getRegex(),He.breaks=Ne({},He.gfm,{br:Se(He.br).replace("{2,}","*").getRegex(),text:Se(He.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Ge{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||de,this.options.tokenizer=this.options.tokenizer||new Fe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Ve.normal,inline:He.normal};this.options.pedantic?(t.block=Ve.pedantic,t.inline=He.pedantic):this.options.gfm&&(t.block=Ve.gfm,this.options.breaks?t.inline=He.breaks:t.inline=He.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ve,inline:He}}static lex(e,t){const n=new Ge(t);return n.lex(e)}static lexInline(e,t){const n=new Ge(t);return n.inlineTokens(e)}lex(e){let t;e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);while(t=this.inlineQueue.shift())this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,i,s;e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));while(e)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(i=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((function(e){r=e.call({lexer:this},n),"number"===typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i)))r=t[t.length-1],s&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),s=i.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,i,s,o,l,a=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)while(null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(a)))e.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,s.index)+"["+Pe("a",s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}while(null!=(s=this.tokenizer.rules.inline.blockSkip.exec(a)))a=a.slice(0,s.index)+"["+Pe("a",s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);while(null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(a)))a=a.slice(0,s.index+s[0].length-2)+"++"+a.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;while(e)if(o||(l=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,a,l))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,Qe))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,Qe))){if(i=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((function(e){r=e.call({lexer:this},n),"number"===typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(i,We))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(l=n.raw.slice(-1)),o=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class Ye{constructor(e){this.options=e||de}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+ye(r)+'">'+(n?e:ye(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:ye(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,n,r){if(this.options.headerIds){const i=this.options.headerPrefix+r.slug(n);return`<h${t} id="${i}">${e}</h${t}>\n`}return`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul",i=t&&1!==n?' start="'+n+'"':"";return"<"+r+i+">\n"+e+"</"+r+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td",r=t.align?`<${n} align="${t.align}">`:`<${n}>`;return r+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=ze(this.options.sanitize,this.options.baseUrl,e),null===e)return n;let r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(e=ze(this.options.sanitize,this.options.baseUrl,e),null===e)return n;let r=`<img src="${e}" alt="${n}"`;return t&&(r+=` title="${t}"`),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class Ke{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class Xe{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class Je{constructor(e){this.options=e||de,this.options.renderer=this.options.renderer||new Ye,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ke,this.slugger=new Xe}static parse(e,t){const n=new Je(t);return n.parse(e)}static parseInline(e,t){const n=new Je(t);return n.parseInline(e)}parse(e,t=!0){let n,r,i,s,o,l,a,c,p,h,u,f,d,g,k,m,b,_,v,x="";const y=e.length;for(n=0;n<y;n++)if(h=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(v=this.options.extensions.renderers[h.type].call({parser:this},h),!1!==v||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)))x+=v||"";else switch(h.type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(h.tokens),h.depth,Ae(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(c="",a="",s=h.header.length,r=0;r<s;r++)a+=this.renderer.tablecell(this.parseInline(h.header[r].tokens),{header:!0,align:h.align[r]});for(c+=this.renderer.tablerow(a),p="",s=h.rows.length,r=0;r<s;r++){for(l=h.rows[r],a="",o=l.length,i=0;i<o;i++)a+=this.renderer.tablecell(this.parseInline(l[i].tokens),{header:!1,align:h.align[i]});p+=this.renderer.tablerow(a)}x+=this.renderer.table(c,p);continue;case"blockquote":p=this.parse(h.tokens),x+=this.renderer.blockquote(p);continue;case"list":for(u=h.ordered,f=h.start,d=h.loose,s=h.items.length,p="",r=0;r<s;r++)k=h.items[r],m=k.checked,b=k.task,g="",k.task&&(_=this.renderer.checkbox(m),d?k.tokens.length>0&&"paragraph"===k.tokens[0].type?(k.tokens[0].text=_+" "+k.tokens[0].text,k.tokens[0].tokens&&k.tokens[0].tokens.length>0&&"text"===k.tokens[0].tokens[0].type&&(k.tokens[0].tokens[0].text=_+" "+k.tokens[0].tokens[0].text)):k.tokens.unshift({type:"text",text:_}):g+=_),g+=this.parse(k.tokens,d),p+=this.renderer.listitem(g,b,m);x+=this.renderer.list(p,u,f);continue;case"html":x+=this.renderer.html(h.text);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":p=h.tokens?this.parseInline(h.tokens):h.text;while(n+1<y&&"text"===e[n+1].type)h=e[++n],p+="\n"+(h.tokens?this.parseInline(h.tokens):h.text);x+=t?this.renderer.paragraph(p):p;continue;default:{const e='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return x}parseInline(e,t){t=t||this.renderer;let n,r,i,s="";const o=e.length;for(n=0;n<o;n++)if(r=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(i=this.options.extensions.renderers[r.type].call({parser:this},r),!1!==i||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))s+=i||"";else switch(r.type){case"escape":s+=t.text(r.text);break;case"html":s+=t.html(r.text);break;case"link":s+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":s+=t.image(r.href,r.title,r.text);break;case"strong":s+=t.strong(this.parseInline(r.tokens,t));break;case"em":s+=t.em(this.parseInline(r.tokens,t));break;case"codespan":s+=t.codespan(r.text);break;case"br":s+=t.br();break;case"del":s+=t.del(this.parseInline(r.tokens,t));break;case"text":s+=t.text(r.text);break;default:{const e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return s}}function et(e,t,n){if("undefined"===typeof e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"===typeof t&&(n=t,t=null),t=Ne({},et.defaults,t||{}),Ze(t),n){const r=t.highlight;let s;try{s=Ge.lex(e,t)}catch(i){return n(i)}const o=function(e){let o;if(!e)try{t.walkTokens&&et.walkTokens(s,t.walkTokens),o=Je.parse(s,t)}catch(i){e=i}return t.highlight=r,e?n(e):n(null,o)};if(!r||r.length<3)return o();if(delete t.highlight,!s.length)return o();let l=0;return et.walkTokens(s,(function(e){"code"===e.type&&(l++,setTimeout((()=>{r(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),l--,0===l&&o()}))}),0))})),void(0===l&&o())}function r(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+ye(e.message+"",!0)+"</pre>";throw e}try{const n=Ge.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(et.walkTokens(n,t.walkTokens)).then((()=>Je.parse(n,t))).catch(r);et.walkTokens(n,t.walkTokens)}return Je.parse(n,t)}catch(i){r(i)}}et.options=et.setOptions=function(e){return Ne(et.defaults,e),ge(et.defaults),et},et.getDefaults=fe,et.defaults=de,et.use=function(...e){const t=et.defaults.extensions||{renderers:{},childTokens:{}};e.forEach((e=>{const n=Ne({},e);if(n.async=et.defaults.async||n.async,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=et.defaults.renderer||new Ye;for(const n in e.renderer){const r=t[n];t[n]=(...i)=>{let s=e.renderer[n].apply(t,i);return!1===s&&(s=r.apply(t,i)),s}}n.renderer=t}if(e.tokenizer){const t=et.defaults.tokenizer||new Fe;for(const n in e.tokenizer){const r=t[n];t[n]=(...i)=>{let s=e.tokenizer[n].apply(t,i);return!1===s&&(s=r.apply(t,i)),s}}n.tokenizer=t}if(e.walkTokens){const t=et.defaults.walkTokens;n.walkTokens=function(n){let r=[];return r.push(e.walkTokens.call(this,n)),t&&(r=r.concat(t.call(this,n))),r}}et.setOptions(n)}))},et.walkTokens=function(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(et,r)),r.type){case"table":for(const e of r.header)n=n.concat(et.walkTokens(e.tokens,t));for(const e of r.rows)for(const r of e)n=n.concat(et.walkTokens(r.tokens,t));break;case"list":n=n.concat(et.walkTokens(r.items,t));break;default:et.defaults.extensions&&et.defaults.extensions.childTokens&&et.defaults.extensions.childTokens[r.type]?et.defaults.extensions.childTokens[r.type].forEach((function(e){n=n.concat(et.walkTokens(r[e],t))})):r.tokens&&(n=n.concat(et.walkTokens(r.tokens,t)))}return n},et.parseInline=function(e,t){if("undefined"===typeof e||null===e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Ne({},et.defaults,t||{}),Ze(t);try{const n=Ge.lexInline(e,t);return t.walkTokens&&et.walkTokens(n,t.walkTokens),Je.parseInline(n,t)}catch(n){if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+ye(n.message+"",!0)+"</pre>";throw n}},et.Parser=Je,et.parser=Je.parse,et.Renderer=Ye,et.TextRenderer=Ke,et.Lexer=Ge,et.lexer=Ge.lex,et.Tokenizer=Fe,et.Slugger=Xe,et.parse=et;et.options,et.setOptions,et.use,et.walkTokens,et.parseInline,Je.parse,Ge.lex;var tt;function nt(e){return tt=tt||document.createElement("textarea"),tt.innerHTML="&"+e+";",tt.value}var rt=Object.prototype.hasOwnProperty;function it(e,t){return!!e&&rt.call(e,t)}function st(e){var t=[].slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!==typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e}var ot=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function lt(e){return e.indexOf("\\")<0?e:e.replace(ot,"$1")}function at(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!==(65535&e)&&65534!==(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function ct(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var pt=/&([a-z#][a-z0-9]{1,31});/gi,ht=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function ut(e,t){var n=0,r=nt(t);return t!==r?r:35===t.charCodeAt(0)&&ht.test(t)&&(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10),at(n))?ct(n):e}function ft(e){return e.indexOf("&")<0?e:e.replace(pt,ut)}var dt=/[&<>"]/,gt=/[&<>"]/g,kt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function mt(e){return kt[e]}function bt(e){return dt.test(e)?e.replace(gt,mt):e}var _t={};function vt(e,t){return++t>=e.length-2?t:"paragraph_open"===e[t].type&&e[t].tight&&"inline"===e[t+1].type&&0===e[t+1].content.length&&"paragraph_close"===e[t+2].type&&e[t+2].tight?vt(e,t+2):t}_t.blockquote_open=function(){return"<blockquote>\n"},_t.blockquote_close=function(e,t){return"</blockquote>"+xt(e,t)},_t.code=function(e,t){return e[t].block?"<pre><code>"+bt(e[t].content)+"</code></pre>"+xt(e,t):"<code>"+bt(e[t].content)+"</code>"},_t.fence=function(e,t,n,r,i){var s,o,l,a=e[t],c="",p=n.langPrefix,h="";if(a.params){if(s=a.params.split(/\s+/g),o=s.join(" "),it(i.rules.fence_custom,s[0]))return i.rules.fence_custom[s[0]](e,t,n,r,i);h=bt(ft(lt(o))),c=' class="'+p+h+'"'}return l=n.highlight&&n.highlight.apply(n.highlight,[a.content].concat(s))||bt(a.content),"<pre><code"+c+">"+l+"</code></pre>"+xt(e,t)},_t.fence_custom={},_t.heading_open=function(e,t){return"<h"+e[t].hLevel+">"},_t.heading_close=function(e,t){return"</h"+e[t].hLevel+">\n"},_t.hr=function(e,t,n){return(n.xhtmlOut?"<hr />":"<hr>")+xt(e,t)},_t.bullet_list_open=function(){return"<ul>\n"},_t.bullet_list_close=function(e,t){return"</ul>"+xt(e,t)},_t.list_item_open=function(){return"<li>"},_t.list_item_close=function(){return"</li>\n"},_t.ordered_list_open=function(e,t){var n=e[t],r=n.order>1?' start="'+n.order+'"':"";return"<ol"+r+">\n"},_t.ordered_list_close=function(e,t){return"</ol>"+xt(e,t)},_t.paragraph_open=function(e,t){return e[t].tight?"":"<p>"},_t.paragraph_close=function(e,t){var n=!(e[t].tight&&t&&"inline"===e[t-1].type&&!e[t-1].content);return(e[t].tight?"":"</p>")+(n?xt(e,t):"")},_t.link_open=function(e,t,n){var r=e[t].title?' title="'+bt(ft(e[t].title))+'"':"",i=n.linkTarget?' target="'+n.linkTarget+'"':"";return'<a href="'+bt(e[t].href)+'"'+r+i+">"},_t.link_close=function(){return"</a>"},_t.image=function(e,t,n){var r=' src="'+bt(e[t].src)+'"',i=e[t].title?' title="'+bt(ft(e[t].title))+'"':"",s=' alt="'+(e[t].alt?bt(ft(lt(e[t].alt))):"")+'"',o=n.xhtmlOut?" /":"";return"<img"+r+s+i+o+">"},_t.table_open=function(){return"<table>\n"},_t.table_close=function(){return"</table>\n"},_t.thead_open=function(){return"<thead>\n"},_t.thead_close=function(){return"</thead>\n"},_t.tbody_open=function(){return"<tbody>\n"},_t.tbody_close=function(){return"</tbody>\n"},_t.tr_open=function(){return"<tr>"},_t.tr_close=function(){return"</tr>\n"},_t.th_open=function(e,t){var n=e[t];return"<th"+(n.align?' style="text-align:'+n.align+'"':"")+">"},_t.th_close=function(){return"</th>"},_t.td_open=function(e,t){var n=e[t];return"<td"+(n.align?' style="text-align:'+n.align+'"':"")+">"},_t.td_close=function(){return"</td>"},_t.strong_open=function(){return"<strong>"},_t.strong_close=function(){return"</strong>"},_t.em_open=function(){return"<em>"},_t.em_close=function(){return"</em>"},_t.del_open=function(){return"<del>"},_t.del_close=function(){return"</del>"},_t.ins_open=function(){return"<ins>"},_t.ins_close=function(){return"</ins>"},_t.mark_open=function(){return"<mark>"},_t.mark_close=function(){return"</mark>"},_t.sub=function(e,t){return"<sub>"+bt(e[t].content)+"</sub>"},_t.sup=function(e,t){return"<sup>"+bt(e[t].content)+"</sup>"},_t.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},_t.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},_t.text=function(e,t){return bt(e[t].content)},_t.htmlblock=function(e,t){return e[t].content},_t.htmltag=function(e,t){return e[t].content},_t.abbr_open=function(e,t){return'<abbr title="'+bt(ft(e[t].title))+'">'},_t.abbr_close=function(){return"</abbr>"},_t.footnote_ref=function(e,t){var n=Number(e[t].id+1).toString(),r="fnref"+n;return e[t].subId>0&&(r+=":"+e[t].subId),'<sup class="footnote-ref"><a href="#fn'+n+'" id="'+r+'">['+n+"]</a></sup>"},_t.footnote_block_open=function(e,t,n){var r=n.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n';return r+'<section class="footnotes">\n<ol class="footnotes-list">\n'},_t.footnote_block_close=function(){return"</ol>\n</section>\n"},_t.footnote_open=function(e,t){var n=Number(e[t].id+1).toString();return'<li id="fn'+n+'"  class="footnote-item">'},_t.footnote_close=function(){return"</li>\n"},_t.footnote_anchor=function(e,t){var n=Number(e[t].id+1).toString(),r="fnref"+n;return e[t].subId>0&&(r+=":"+e[t].subId),' <a href="#'+r+'" class="footnote-backref">↩</a>'},_t.dl_open=function(){return"<dl>\n"},_t.dt_open=function(){return"<dt>"},_t.dd_open=function(){return"<dd>"},_t.dl_close=function(){return"</dl>\n"},_t.dt_close=function(){return"</dt>\n"},_t.dd_close=function(){return"</dd>\n"};var xt=_t.getBreak=function(e,t){return t=vt(e,t),t<e.length&&"list_item_close"===e[t].type?"":"\n"};function yt(){this.rules=st({},_t),this.getBreak=_t.getBreak}function wt(){this.__rules__=[],this.__cache__=null}function At(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}function Ct(e,t,n,r,i){this.src=e,this.env=r,this.options=n,this.parser=t,this.tokens=i,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}function St(e,t){var n,r,i,s=-1,o=e.posMax,l=e.pos,a=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;e.pos=t+1,e.isInLabel=!0,n=1;while(e.pos<o){if(i=e.src.charCodeAt(e.pos),91===i)n++;else if(93===i&&(n--,0===n)){r=!0;break}e.parser.skipToken(e)}return r?(s=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=n-1,e.pos=l,e.isInLabel=a,s}function Mt(e,t,n,r){var i,s,o,l,a,c;if(42!==e.charCodeAt(0))return-1;if(91!==e.charCodeAt(1))return-1;if(-1===e.indexOf("]:"))return-1;if(i=new Ct(e,t,n,r,[]),s=St(i,1),s<0||58!==e.charCodeAt(s+1))return-1;for(l=i.posMax,o=s+2;o<l;o++)if(10===i.src.charCodeAt(o))break;return a=e.slice(2,s),c=e.slice(s+2,o).trim(),0===c.length?-1:(r.abbreviations||(r.abbreviations={}),"undefined"===typeof r.abbreviations[":"+a]&&(r.abbreviations[":"+a]=c),o)}function $t(e){var t,n,r,i,s=e.tokens;if(!e.inlineMode)for(t=1,n=s.length-1;t<n;t++)if("paragraph_open"===s[t-1].type&&"inline"===s[t].type&&"paragraph_close"===s[t+1].type){r=s[t].content;while(r.length){if(i=Mt(r,e.inline,e.options,e.env),i<0)break;r=r.slice(i).trim()}s[t].content=r,r.length||(s[t-1].tight=!0,s[t+1].tight=!0)}}function zt(e){var t=ft(e);try{t=decodeURI(t)}catch(n){}return encodeURI(t)}function Tt(e,t){var n,r,i,s=t,o=e.posMax;if(60===e.src.charCodeAt(t)){t++;while(t<o){if(n=e.src.charCodeAt(t),10===n)return!1;if(62===n)return i=zt(lt(e.src.slice(s+1,t))),!!e.parser.validateLink(i)&&(e.pos=t+1,e.linkContent=i,!0);92===n&&t+1<o?t+=2:t++}return!1}r=0;while(t<o){if(n=e.src.charCodeAt(t),32===n)break;if(n<32||127===n)break;if(92===n&&t+1<o)t+=2;else{if(40===n&&(r++,r>1))break;if(41===n&&(r--,r<0))break;t++}}return s!==t&&(i=lt(e.src.slice(s,t)),!!e.parser.validateLink(i)&&(e.linkContent=i,e.pos=t,!0))}function Et(e,t){var n,r=t,i=e.posMax,s=e.src.charCodeAt(t);if(34!==s&&39!==s&&40!==s)return!1;t++,40===s&&(s=41);while(t<i){if(n=e.src.charCodeAt(t),n===s)return e.pos=t+1,e.linkContent=lt(e.src.slice(r+1,t)),!0;92===n&&t+1<i?t+=2:t++}return!1}function It(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function Rt(e,t,n,r){var i,s,o,l,a,c,p,h,u;if(91!==e.charCodeAt(0))return-1;if(-1===e.indexOf("]:"))return-1;if(i=new Ct(e,t,n,r,[]),s=St(i,0),s<0||58!==e.charCodeAt(s+1))return-1;for(l=i.posMax,o=s+2;o<l;o++)if(a=i.src.charCodeAt(o),32!==a&&10!==a)break;if(!Tt(i,o))return-1;for(p=i.linkContent,o=i.pos,c=o,o+=1;o<l;o++)if(a=i.src.charCodeAt(o),32!==a&&10!==a)break;o<l&&c!==o&&Et(i,o)?(h=i.linkContent,o=i.pos):(h="",o=c);while(o<l&&32===i.src.charCodeAt(o))o++;return o<l&&10!==i.src.charCodeAt(o)?-1:(u=It(e.slice(1,s)),"undefined"===typeof r.references[u]&&(r.references[u]={title:h,href:p}),o)}function Dt(e){var t,n,r,i,s=e.tokens;if(e.env.references=e.env.references||{},!e.inlineMode)for(t=1,n=s.length-1;t<n;t++)if("inline"===s[t].type&&"paragraph_open"===s[t-1].type&&"paragraph_close"===s[t+1].type){r=s[t].content;while(r.length){if(i=Rt(r,e.inline,e.options,e.env),i<0)break;r=r.slice(i).trim()}s[t].content=r,r.length||(s[t-1].tight=!0,s[t+1].tight=!0)}}function Ot(e){var t,n,r,i=e.tokens;for(n=0,r=i.length;n<r;n++)t=i[n],"inline"===t.type&&e.inline.parse(t.content,e.options,e.env,t.children)}function Nt(e){var t,n,r,i,s,o,l,a,c,p=0,h=!1,u={};if(e.env.footnotes&&(e.tokens=e.tokens.filter((function(e){return"footnote_reference_open"===e.type?(h=!0,a=[],c=e.label,!1):"footnote_reference_close"===e.type?(h=!1,u[":"+c]=a,!1):(h&&a.push(e),!h)})),e.env.footnotes.list)){for(o=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:p++}),t=0,n=o.length;t<n;t++){for(e.tokens.push({type:"footnote_open",id:t,level:p++}),o[t].tokens?(l=[],l.push({type:"paragraph_open",tight:!1,level:p++}),l.push({type:"inline",content:"",level:p,children:o[t].tokens}),l.push({type:"paragraph_close",tight:!1,level:--p})):o[t].label&&(l=u[":"+o[t].label]),e.tokens=e.tokens.concat(l),s="paragraph_close"===e.tokens[e.tokens.length-1].type?e.tokens.pop():null,i=o[t].count>0?o[t].count:1,r=0;r<i;r++)e.tokens.push({type:"footnote_anchor",id:t,subId:r,level:p});s&&e.tokens.push(s),e.tokens.push({type:"footnote_close",level:--p})}e.tokens.push({type:"footnote_block_close",level:--p})}}yt.prototype.renderInline=function(e,t,n){var r=this.rules,i=e.length,s=0,o="";while(i--)o+=r[e[s].type](e,s++,t,n,this);return o},yt.prototype.render=function(e,t,n){var r=this.rules,i=e.length,s=-1,o="";while(++s<i)"inline"===e[s].type?o+=this.renderInline(e[s].children,t,n):o+=r[e[s].type](e,s,t,n,this);return o},wt.prototype.__find__=function(e){var t=this.__rules__.length,n=-1;while(t--)if(this.__rules__[++n].name===e)return n;return-1},wt.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},wt.prototype.at=function(e,t,n){var r=this.__find__(e),i=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=i.alt||[],this.__cache__=null},wt.prototype.before=function(e,t,n,r){var i=this.__find__(e),s=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null},wt.prototype.after=function(e,t,n,r){var i=this.__find__(e),s=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null},wt.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},wt.prototype.enable=function(e,t){e=Array.isArray(e)?e:[e],t&&this.__rules__.forEach((function(e){e.enabled=!1})),e.forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!0}),this),this.__cache__=null},wt.prototype.disable=function(e){e=Array.isArray(e)?e:[e],e.forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!1}),this),this.__cache__=null},wt.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},Ct.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""},Ct.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level},Ct.prototype.cacheSet=function(e,t){for(var n=this.cache.length;n<=e;n++)this.cache.push(0);this.cache[e]=t},Ct.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};var Lt=" \n()[]'\".,!?-";function jt(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function qt(e){var t,n,r,i,s,o,l,a,c,p,h,u,f=e.tokens;if(e.env.abbreviations)for(e.env.abbrRegExp||(u="(^|["+Lt.split("").map(jt).join("")+"])("+Object.keys(e.env.abbreviations).map((function(e){return e.substr(1)})).sort((function(e,t){return t.length-e.length})).map(jt).join("|")+")($|["+Lt.split("").map(jt).join("")+"])",e.env.abbrRegExp=new RegExp(u,"g")),p=e.env.abbrRegExp,n=0,r=f.length;n<r;n++)if("inline"===f[n].type)for(i=f[n].children,t=i.length-1;t>=0;t--)if(s=i[t],"text"===s.type){a=0,o=s.content,p.lastIndex=0,c=s.level,l=[];while(h=p.exec(o))p.lastIndex>a&&l.push({type:"text",content:o.slice(a,h.index+h[1].length),level:c}),l.push({type:"abbr_open",title:e.env.abbreviations[":"+h[2]],level:c++}),l.push({type:"text",content:h[2],level:c}),l.push({type:"abbr_close",level:--c}),a=p.lastIndex-h[3].length;l.length&&(a<o.length&&l.push({type:"text",content:o.slice(a),level:c}),f[n].children=i=[].concat(i.slice(0,t),l,i.slice(t+1)))}}var Zt=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Pt=/\((c|tm|r|p)\)/gi,Bt={c:"©",r:"®",p:"§",tm:"™"};function Ut(e){return e.indexOf("(")<0?e:e.replace(Pt,(function(e,t){return Bt[t.toLowerCase()]}))}function Ft(e){var t,n,r,i,s;if(e.options.typographer)for(s=e.tokens.length-1;s>=0;s--)if("inline"===e.tokens[s].type)for(i=e.tokens[s].children,t=i.length-1;t>=0;t--)n=i[t],"text"===n.type&&(r=n.content,r=Ut(r),Zt.test(r)&&(r=r.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),n.content=r)}var Vt=/['"]/,Ht=/['"]/g,Wt=/[-\s()\[\]]/,Qt="’";function Gt(e,t){return!(t<0||t>=e.length)&&!Wt.test(e[t])}function Yt(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function Kt(e){var t,n,r,i,s,o,l,a,c,p,h,u,f,d,g,k,m;if(e.options.typographer)for(m=[],g=e.tokens.length-1;g>=0;g--)if("inline"===e.tokens[g].type)for(k=e.tokens[g].children,m.length=0,t=0;t<k.length;t++)if(n=k[t],"text"===n.type&&!Vt.test(n.text)){for(l=k[t].level,f=m.length-1;f>=0;f--)if(m[f].level<=l)break;m.length=f+1,r=n.content,s=0,o=r.length;e:while(s<o){if(Ht.lastIndex=s,i=Ht.exec(r),!i)break;if(a=!Gt(r,i.index-1),s=i.index+1,d="'"===i[0],c=!Gt(r,s),c||a){if(h=!c,u=!a,u)for(f=m.length-1;f>=0;f--){if(p=m[f],m[f].level<l)break;if(p.single===d&&m[f].level===l){p=m[f],d?(k[p.token].content=Yt(k[p.token].content,p.pos,e.options.quotes[2]),n.content=Yt(n.content,i.index,e.options.quotes[3])):(k[p.token].content=Yt(k[p.token].content,p.pos,e.options.quotes[0]),n.content=Yt(n.content,i.index,e.options.quotes[1])),m.length=f;continue e}}h?m.push({token:t,pos:i.index,single:d,level:l}):u&&d&&(n.content=Yt(n.content,i.index,Qt))}else d&&(n.content=Yt(n.content,i.index,Qt))}}}var Xt=[["block",At],["abbr",$t],["references",Dt],["inline",Ot],["footnote_tail",Nt],["abbr2",qt],["replacements",Ft],["smartquotes",Kt]];function Jt(){this.options={},this.ruler=new wt;for(var e=0;e<Xt.length;e++)this.ruler.push(Xt[e][0],Xt[e][1])}function en(e,t,n,r,i){var s,o,l,a,c,p,h;for(this.src=e,this.parser=t,this.options=n,this.env=r,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",o=this.src,p=0,h=!1,l=a=p=0,c=o.length;a<c;a++){if(s=o.charCodeAt(a),!h){if(32===s){p++;continue}h=!0}10!==s&&a!==c-1||(10!==s&&a++,this.bMarks.push(l),this.eMarks.push(a),this.tShift.push(p),h=!1,p=0,l=a+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}function tn(e,t,n){var r,i;if(e.tShift[t]-e.blkIndent<4)return!1;i=r=t+1;while(r<n)if(e.isEmpty(r))r++;else{if(!(e.tShift[r]-e.blkIndent>=4))break;r++,i=r}return e.line=r,e.tokens.push({type:"code",content:e.getLines(t,i,4+e.blkIndent,!0),block:!0,lines:[t,e.line],level:e.level}),!0}function nn(e,t,n,r){var i,s,o,l,a,c=!1,p=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(p+3>h)return!1;if(i=e.src.charCodeAt(p),126!==i&&96!==i)return!1;if(a=p,p=e.skipChars(p,i),s=p-a,s<3)return!1;if(o=e.src.slice(p,h).trim(),o.indexOf("`")>=0)return!1;if(r)return!0;for(l=t;;){if(l++,l>=n)break;if(p=a=e.bMarks[l]+e.tShift[l],h=e.eMarks[l],p<h&&e.tShift[l]<e.blkIndent)break;if(e.src.charCodeAt(p)===i&&(!(e.tShift[l]-e.blkIndent>=4)&&(p=e.skipChars(p,i),!(p-a<s)&&(p=e.skipSpaces(p),!(p<h))))){c=!0;break}}return s=e.tShift[t],e.line=l+(c?1:0),e.tokens.push({type:"fence",params:o,content:e.getLines(t+1,l,s,!0),lines:[t,e.line],level:e.level}),!0}function rn(e,t,n,r){var i,s,o,l,a,c,p,h,u,f,d,g=e.bMarks[t]+e.tShift[t],k=e.eMarks[t];if(g>k)return!1;if(62!==e.src.charCodeAt(g++))return!1;if(e.level>=e.options.maxNesting)return!1;if(r)return!0;for(32===e.src.charCodeAt(g)&&g++,a=e.blkIndent,e.blkIndent=0,l=[e.bMarks[t]],e.bMarks[t]=g,g=g<k?e.skipSpaces(g):g,s=g>=k,o=[e.tShift[t]],e.tShift[t]=g-e.bMarks[t],h=e.parser.ruler.getRules("blockquote"),i=t+1;i<n;i++){if(g=e.bMarks[i]+e.tShift[i],k=e.eMarks[i],g>=k)break;if(62!==e.src.charCodeAt(g++)){if(s)break;for(d=!1,u=0,f=h.length;u<f;u++)if(h[u](e,i,n,!0)){d=!0;break}if(d)break;l.push(e.bMarks[i]),o.push(e.tShift[i]),e.tShift[i]=-1337}else 32===e.src.charCodeAt(g)&&g++,l.push(e.bMarks[i]),e.bMarks[i]=g,g=g<k?e.skipSpaces(g):g,s=g>=k,o.push(e.tShift[i]),e.tShift[i]=g-e.bMarks[i]}for(c=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:p=[t,0],level:e.level++}),e.parser.tokenize(e,t,i),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=c,p[1]=e.line,u=0;u<o.length;u++)e.bMarks[u+t]=l[u],e.tShift[u+t]=o[u];return e.blkIndent=a,!0}function sn(e,t,n,r){var i,s,o,l=e.bMarks[t],a=e.eMarks[t];if(l+=e.tShift[t],l>a)return!1;if(i=e.src.charCodeAt(l++),42!==i&&45!==i&&95!==i)return!1;s=1;while(l<a){if(o=e.src.charCodeAt(l++),o!==i&&32!==o)return!1;o===i&&s++}return!(s<3)&&(r||(e.line=t+1,e.tokens.push({type:"hr",lines:[t,e.line],level:e.level})),!0)}function on(e,t){var n,r,i;return r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],r>=i?-1:(n=e.src.charCodeAt(r++),42!==n&&45!==n&&43!==n||r<i&&32!==e.src.charCodeAt(r)?-1:r)}function ln(e,t){var n,r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(r+1>=i)return-1;if(n=e.src.charCodeAt(r++),n<48||n>57)return-1;for(;;){if(r>=i)return-1;if(n=e.src.charCodeAt(r++),!(n>=48&&n<=57)){if(41===n||46===n)break;return-1}}return r<i&&32!==e.src.charCodeAt(r)?-1:r}function an(e,t){var n,r,i=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===i&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}function cn(e,t,n,r){var i,s,o,l,a,c,p,h,u,f,d,g,k,m,b,_,v,x,y,w,A,C,S=!0;if((h=ln(e,t))>=0)k=!0;else{if(!((h=on(e,t))>=0))return!1;k=!1}if(e.level>=e.options.maxNesting)return!1;if(g=e.src.charCodeAt(h-1),r)return!0;b=e.tokens.length,k?(p=e.bMarks[t]+e.tShift[t],d=Number(e.src.substr(p,h-p-1)),e.tokens.push({type:"ordered_list_open",order:d,lines:v=[t,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:v=[t,0],level:e.level++}),i=t,_=!1,y=e.parser.ruler.getRules("list");while(i<n){if(m=e.skipSpaces(h),u=e.eMarks[i],f=m>=u?1:m-h,f>4&&(f=1),f<1&&(f=1),s=h-e.bMarks[i]+f,e.tokens.push({type:"list_item_open",lines:x=[t,0],level:e.level++}),l=e.blkIndent,a=e.tight,o=e.tShift[t],c=e.parentType,e.tShift[t]=m-e.bMarks[t],e.blkIndent=s,e.tight=!0,e.parentType="list",e.parser.tokenize(e,t,n,!0),e.tight&&!_||(S=!1),_=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=l,e.tShift[t]=o,e.tight=a,e.parentType=c,e.tokens.push({type:"list_item_close",level:--e.level}),i=t=e.line,x[1]=i,m=e.bMarks[t],i>=n)break;if(e.isEmpty(i))break;if(e.tShift[i]<e.blkIndent)break;for(C=!1,w=0,A=y.length;w<A;w++)if(y[w](e,i,n,!0)){C=!0;break}if(C)break;if(k){if(h=ln(e,i),h<0)break}else if(h=on(e,i),h<0)break;if(g!==e.src.charCodeAt(h-1))break}return e.tokens.push({type:k?"ordered_list_close":"bullet_list_close",level:--e.level}),v[1]=i,e.line=i,S&&an(e,b),!0}function pn(e,t,n,r){var i,s,o,l,a,c=e.bMarks[t]+e.tShift[t],p=e.eMarks[t];if(c+4>p)return!1;if(91!==e.src.charCodeAt(c))return!1;if(94!==e.src.charCodeAt(c+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(l=c+2;l<p;l++){if(32===e.src.charCodeAt(l))return!1;if(93===e.src.charCodeAt(l))break}return l!==c+2&&(!(l+1>=p||58!==e.src.charCodeAt(++l))&&(r||(l++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),a=e.src.slice(c+2,l-2),e.env.footnotes.refs[":"+a]=-1,e.tokens.push({type:"footnote_reference_open",label:a,level:e.level++}),i=e.bMarks[t],s=e.tShift[t],o=e.parentType,e.tShift[t]=e.skipSpaces(l)-l,e.bMarks[t]=l,e.blkIndent+=4,e.parentType="footnote",e.tShift[t]<e.blkIndent&&(e.tShift[t]+=e.blkIndent,e.bMarks[t]-=e.blkIndent),e.parser.tokenize(e,t,n,!0),e.parentType=o,e.blkIndent-=4,e.tShift[t]=s,e.bMarks[t]=i,e.tokens.push({type:"footnote_reference_close",level:--e.level})),!0))}function hn(e,t,n,r){var i,s,o,l=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(l>=a)return!1;if(i=e.src.charCodeAt(l),35!==i||l>=a)return!1;s=1,i=e.src.charCodeAt(++l);while(35===i&&l<a&&s<=6)s++,i=e.src.charCodeAt(++l);return!(s>6||l<a&&32!==i)&&(r||(a=e.skipCharsBack(a,32,l),o=e.skipCharsBack(a,35,l),o>l&&32===e.src.charCodeAt(o-1)&&(a=o),e.line=t+1,e.tokens.push({type:"heading_open",hLevel:s,lines:[t,e.line],level:e.level}),l<a&&e.tokens.push({type:"inline",content:e.src.slice(l,a).trim(),level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:s,level:e.level})),!0)}function un(e,t,n){var r,i,s,o=t+1;return!(o>=n)&&(!(e.tShift[o]<e.blkIndent)&&(!(e.tShift[o]-e.blkIndent>3)&&(i=e.bMarks[o]+e.tShift[o],s=e.eMarks[o],!(i>=s)&&(r=e.src.charCodeAt(i),(45===r||61===r)&&(i=e.skipChars(i,r),i=e.skipSpaces(i),!(i<s)&&(i=e.bMarks[t]+e.tShift[t],e.line=o+1,e.tokens.push({type:"heading_open",hLevel:61===r?1:2,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(i,e.eMarks[t]).trim(),level:e.level+1,lines:[t,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:61===r?1:2,level:e.level}),!0))))))}Jt.prototype.process=function(e){var t,n,r;for(r=this.ruler.getRules(""),t=0,n=r.length;t<n;t++)r[t](e)},en.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},en.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t;e++)if(this.bMarks[e]+this.tShift[e]<this.eMarks[e])break;return e},en.prototype.skipSpaces=function(e){for(var t=this.src.length;e<t;e++)if(32!==this.src.charCodeAt(e))break;return e},en.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n;e++)if(this.src.charCodeAt(e)!==t)break;return e},en.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;while(e>n)if(t!==this.src.charCodeAt(--e))return e+1;return e},en.prototype.getLines=function(e,t,n,r){var i,s,o,l,a,c=e;if(e>=t)return"";if(c+1===t)return s=this.bMarks[c]+Math.min(this.tShift[c],n),o=r?this.eMarks[c]+1:this.eMarks[c],this.src.slice(s,o);for(l=new Array(t-e),i=0;c<t;c++,i++)a=this.tShift[c],a>n&&(a=n),a<0&&(a=0),s=this.bMarks[c]+a,o=c+1<t||r?this.eMarks[c]+1:this.eMarks[c],l[i]=this.src.slice(s,o);return l.join("")};var fn={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach((function(e){fn[e]=!0}));var dn=/^<([a-zA-Z]{1,15})[\s\/>]/,gn=/^<\/([a-zA-Z]{1,15})[\s>]/;function kn(e){var t=32|e;return t>=97&&t<=122}function mn(e,t,n,r){var i,s,o,l=e.bMarks[t],a=e.eMarks[t],c=e.tShift[t];if(l+=c,!e.options.html)return!1;if(c>3||l+2>=a)return!1;if(60!==e.src.charCodeAt(l))return!1;if(i=e.src.charCodeAt(l+1),33===i||63===i){if(r)return!0}else{if(47!==i&&!kn(i))return!1;if(47===i){if(s=e.src.slice(l,a).match(gn),!s)return!1}else if(s=e.src.slice(l,a).match(dn),!s)return!1;if(!0!==fn[s[1].toLowerCase()])return!1;if(r)return!0}o=t+1;while(o<e.lineMax&&!e.isEmpty(o))o++;return e.line=o,e.tokens.push({type:"htmlblock",level:e.level,lines:[t,e.line],content:e.getLines(t,o,0,!0)}),!0}function bn(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function _n(e,t,n,r){var i,s,o,l,a,c,p,h,u,f,d;if(t+2>n)return!1;if(a=t+1,e.tShift[a]<e.blkIndent)return!1;if(o=e.bMarks[a]+e.tShift[a],o>=e.eMarks[a])return!1;if(i=e.src.charCodeAt(o),124!==i&&45!==i&&58!==i)return!1;if(s=bn(e,t+1),!/^[-:| ]+$/.test(s))return!1;if(c=s.split("|"),c<=2)return!1;for(h=[],l=0;l<c.length;l++){if(u=c[l].trim(),!u){if(0===l||l===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(u))return!1;58===u.charCodeAt(u.length-1)?h.push(58===u.charCodeAt(0)?"center":"right"):58===u.charCodeAt(0)?h.push("left"):h.push("")}if(s=bn(e,t).trim(),-1===s.indexOf("|"))return!1;if(c=s.replace(/^\||\|$/g,"").split("|"),h.length!==c.length)return!1;if(r)return!0;for(e.tokens.push({type:"table_open",lines:f=[t,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[t,t+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[t,t+1],level:e.level++}),l=0;l<c.length;l++)e.tokens.push({type:"th_open",align:h[l],lines:[t,t+1],level:e.level++}),e.tokens.push({type:"inline",content:c[l].trim(),lines:[t,t+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:d=[t+2,0],level:e.level++}),a=t+2;a<n;a++){if(e.tShift[a]<e.blkIndent)break;if(s=bn(e,a).trim(),-1===s.indexOf("|"))break;for(c=s.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),l=0;l<c.length;l++)e.tokens.push({type:"td_open",align:h[l],level:e.level++}),p=c[l].substring(124===c[l].charCodeAt(0)?1:0,124===c[l].charCodeAt(c[l].length-1)?c[l].length-1:c[l].length).trim(),e.tokens.push({type:"inline",content:p,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),f[1]=d[1]=a,e.line=a,!0}function vn(e,t){var n,r,i=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];return i>=s?-1:(r=e.src.charCodeAt(i++),126!==r&&58!==r?-1:(n=e.skipSpaces(i),i===n||n>=s?-1:n))}function xn(e,t){var n,r,i=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===i&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}function yn(e,t,n,r){var i,s,o,l,a,c,p,h,u,f,d,g,k,m;if(r)return!(e.ddIndent<0)&&vn(e,t)>=0;if(p=t+1,e.isEmpty(p)&&++p>n)return!1;if(e.tShift[p]<e.blkIndent)return!1;if(i=vn(e,p),i<0)return!1;if(e.level>=e.options.maxNesting)return!1;c=e.tokens.length,e.tokens.push({type:"dl_open",lines:a=[t,0],level:e.level++}),o=t,s=p;e:for(;;){for(m=!0,k=!1,e.tokens.push({type:"dt_open",lines:[o,o],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(o,o+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[o,o],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:l=[p,0],level:e.level++}),g=e.tight,u=e.ddIndent,h=e.blkIndent,d=e.tShift[s],f=e.parentType,e.blkIndent=e.ddIndent=e.tShift[s]+2,e.tShift[s]=i-e.bMarks[s],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,s,n,!0),e.tight&&!k||(m=!1),k=e.line-s>1&&e.isEmpty(e.line-1),e.tShift[s]=d,e.tight=g,e.parentType=f,e.blkIndent=h,e.ddIndent=u,e.tokens.push({type:"dd_close",level:--e.level}),l[1]=p=e.line,p>=n)break e;if(e.tShift[p]<e.blkIndent)break e;if(i=vn(e,p),i<0)break;s=p}if(p>=n)break;if(o=p,e.isEmpty(o))break;if(e.tShift[o]<e.blkIndent)break;if(s=o+1,s>=n)break;if(e.isEmpty(s)&&s++,s>=n)break;if(e.tShift[s]<e.blkIndent)break;if(i=vn(e,s),i<0)break}return e.tokens.push({type:"dl_close",level:--e.level}),a[1]=p,e.line=p,m&&xn(e,c),!0}function wn(e,t){var n,r,i,s,o,l,a=t+1;if(n=e.lineMax,a<n&&!e.isEmpty(a))for(l=e.parser.ruler.getRules("paragraph");a<n&&!e.isEmpty(a);a++)if(!(e.tShift[a]-e.blkIndent>3)){for(i=!1,s=0,o=l.length;s<o;s++)if(l[s](e,a,n,!0)){i=!0;break}if(i)break}return r=e.getLines(t,a,e.blkIndent,!1).trim(),e.line=a,r.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:r,level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}var An=[["code",tn],["fences",nn,["paragraph","blockquote","list"]],["blockquote",rn,["paragraph","blockquote","list"]],["hr",sn,["paragraph","blockquote","list"]],["list",cn,["paragraph","blockquote"]],["footnote",pn,["paragraph"]],["heading",hn,["paragraph","blockquote"]],["lheading",un],["htmlblock",mn,["paragraph","blockquote"]],["table",_n,["paragraph"]],["deflist",yn,["paragraph"]],["paragraph",wn]];function Cn(){this.ruler=new wt;for(var e=0;e<An.length;e++)this.ruler.push(An[e][0],An[e][1],{alt:(An[e][2]||[]).slice()})}Cn.prototype.tokenize=function(e,t,n){var r,i,s=this.ruler.getRules(""),o=s.length,l=t,a=!1;while(l<n){if(e.line=l=e.skipEmptyLines(l),l>=n)break;if(e.tShift[l]<e.blkIndent)break;for(i=0;i<o;i++)if(r=s[i](e,l,n,!1),r)break;if(e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),l=e.line,l<n&&e.isEmpty(l)){if(a=!0,l++,l<n&&"list"===e.parentType&&e.isEmpty(l))break;e.line=l}}};var Sn=/[\n\t]/g,Mn=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,$n=/\u00a0/g;function zn(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}function Tn(e,t){var n=e.pos;while(n<e.posMax&&!zn(e.src.charCodeAt(n)))n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}function En(e,t){var n,r,i=e.pos;if(10!==e.src.charCodeAt(i))return!1;if(n=e.pending.length-1,r=e.posMax,!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){for(var s=n-2;s>=0;s--)if(32!==e.pending.charCodeAt(s)){e.pending=e.pending.substring(0,s+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});i++;while(i<r&&32===e.src.charCodeAt(i))i++;return e.pos=i,!0}Cn.prototype.parse=function(e,t,n,r){var i,s=0,o=0;if(!e)return[];e=e.replace($n," "),e=e.replace(Mn,"\n"),e.indexOf("\t")>=0&&(e=e.replace(Sn,(function(t,n){var r;return 10===e.charCodeAt(n)?(s=n+1,o=0,t):(r="    ".slice((n-s-o)%4),o=n-s+1,r)}))),i=new en(e,this,t,n,r),this.tokenize(i,i.line,i.lineMax)};for(var In=[],Rn=0;Rn<256;Rn++)In.push(0);function Dn(e,t){var n,r=e.pos,i=e.posMax;if(92!==e.src.charCodeAt(r))return!1;if(r++,r<i){if(n=e.src.charCodeAt(r),n<256&&0!==In[n])return t||(e.pending+=e.src[r]),e.pos+=2,!0;if(10===n){t||e.push({type:"hardbreak",level:e.level}),r++;while(r<i&&32===e.src.charCodeAt(r))r++;return e.pos=r,!0}}return t||(e.pending+="\\"),e.pos++,!0}function On(e,t){var n,r,i,s,o,l=e.pos,a=e.src.charCodeAt(l);if(96!==a)return!1;n=l,l++,r=e.posMax;while(l<r&&96===e.src.charCodeAt(l))l++;i=e.src.slice(n,l),s=o=l;while(-1!==(s=e.src.indexOf("`",o))){o=s+1;while(o<r&&96===e.src.charCodeAt(o))o++;if(o-s===i.length)return t||e.push({type:"code",content:e.src.slice(l,s).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=o,!0}return t||(e.pending+=i),e.pos+=i.length,!0}function Nn(e,t){var n,r,i,s,o,l=e.posMax,a=e.pos;if(126!==e.src.charCodeAt(a))return!1;if(t)return!1;if(a+4>=l)return!1;if(126!==e.src.charCodeAt(a+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(s=a>0?e.src.charCodeAt(a-1):-1,o=e.src.charCodeAt(a+2),126===s)return!1;if(126===o)return!1;if(32===o||10===o)return!1;r=a+2;while(r<l&&126===e.src.charCodeAt(r))r++;if(r>a+3)return e.pos+=r-a,t||(e.pending+=e.src.slice(a,r)),!0;e.pos=a+2,i=1;while(e.pos+1<l){if(126===e.src.charCodeAt(e.pos)&&126===e.src.charCodeAt(e.pos+1)&&(s=e.src.charCodeAt(e.pos-1),o=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1,126!==o&&126!==s&&(32!==s&&10!==s?i--:32!==o&&10!==o&&i++,i<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=a+2,t||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=a,!1)}function Ln(e,t){var n,r,i,s,o,l=e.posMax,a=e.pos;if(43!==e.src.charCodeAt(a))return!1;if(t)return!1;if(a+4>=l)return!1;if(43!==e.src.charCodeAt(a+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(s=a>0?e.src.charCodeAt(a-1):-1,o=e.src.charCodeAt(a+2),43===s)return!1;if(43===o)return!1;if(32===o||10===o)return!1;r=a+2;while(r<l&&43===e.src.charCodeAt(r))r++;if(r!==a+2)return e.pos+=r-a,t||(e.pending+=e.src.slice(a,r)),!0;e.pos=a+2,i=1;while(e.pos+1<l){if(43===e.src.charCodeAt(e.pos)&&43===e.src.charCodeAt(e.pos+1)&&(s=e.src.charCodeAt(e.pos-1),o=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1,43!==o&&43!==s&&(32!==s&&10!==s?i--:32!==o&&10!==o&&i++,i<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=a+2,t||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=a,!1)}function jn(e,t){var n,r,i,s,o,l=e.posMax,a=e.pos;if(61!==e.src.charCodeAt(a))return!1;if(t)return!1;if(a+4>=l)return!1;if(61!==e.src.charCodeAt(a+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(s=a>0?e.src.charCodeAt(a-1):-1,o=e.src.charCodeAt(a+2),61===s)return!1;if(61===o)return!1;if(32===o||10===o)return!1;r=a+2;while(r<l&&61===e.src.charCodeAt(r))r++;if(r!==a+2)return e.pos+=r-a,t||(e.pending+=e.src.slice(a,r)),!0;e.pos=a+2,i=1;while(e.pos+1<l){if(61===e.src.charCodeAt(e.pos)&&61===e.src.charCodeAt(e.pos+1)&&(s=e.src.charCodeAt(e.pos-1),o=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1,61!==o&&61!==s&&(32!==s&&10!==s?i--:32!==o&&10!==o&&i++,i<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=a+2,t||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=a,!1)}function qn(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function Zn(e,t){var n,r,i,s=t,o=!0,l=!0,a=e.posMax,c=e.src.charCodeAt(t);n=t>0?e.src.charCodeAt(t-1):-1;while(s<a&&e.src.charCodeAt(s)===c)s++;return s>=a&&(o=!1),i=s-t,i>=4?o=l=!1:(r=s<a?e.src.charCodeAt(s):-1,32!==r&&10!==r||(o=!1),32!==n&&10!==n||(l=!1),95===c&&(qn(n)&&(o=!1),qn(r)&&(l=!1))),{can_open:o,can_close:l,delims:i}}function Pn(e,t){var n,r,i,s,o,l,a,c=e.posMax,p=e.pos,h=e.src.charCodeAt(p);if(95!==h&&42!==h)return!1;if(t)return!1;if(a=Zn(e,p),n=a.delims,!a.can_open)return e.pos+=n,t||(e.pending+=e.src.slice(p,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;e.pos=p+n,l=[n];while(e.pos<c)if(e.src.charCodeAt(e.pos)!==h)e.parser.skipToken(e);else{if(a=Zn(e,e.pos),r=a.delims,a.can_close){s=l.pop(),o=r;while(s!==o){if(o<s){l.push(s-o);break}if(o-=s,0===l.length)break;e.pos+=s,s=l.pop()}if(0===l.length){n=s,i=!0;break}e.pos+=r;continue}a.can_open&&l.push(r),e.pos+=r}return i?(e.posMax=e.pos,e.pos=p+n,t||(2!==n&&3!==n||e.push({type:"strong_open",level:e.level++}),1!==n&&3!==n||e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),1!==n&&3!==n||e.push({type:"em_close",level:--e.level}),2!==n&&3!==n||e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+n,e.posMax=c,!0):(e.pos=p,!1)}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){In[e.charCodeAt(0)]=1}));var Bn=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function Un(e,t){var n,r,i=e.posMax,s=e.pos;if(126!==e.src.charCodeAt(s))return!1;if(t)return!1;if(s+2>=i)return!1;if(e.level>=e.options.maxNesting)return!1;e.pos=s+1;while(e.pos<i){if(126===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&s+1!==e.pos?(r=e.src.slice(s+1,e.pos),r.match(/(^|[^\\])(\\\\)*\s/)?(e.pos=s,!1):(e.posMax=e.pos,e.pos=s+1,t||e.push({type:"sub",level:e.level,content:r.replace(Bn,"$1")}),e.pos=e.posMax+1,e.posMax=i,!0)):(e.pos=s,!1)}var Fn=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function Vn(e,t){var n,r,i=e.posMax,s=e.pos;if(94!==e.src.charCodeAt(s))return!1;if(t)return!1;if(s+2>=i)return!1;if(e.level>=e.options.maxNesting)return!1;e.pos=s+1;while(e.pos<i){if(94===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&s+1!==e.pos?(r=e.src.slice(s+1,e.pos),r.match(/(^|[^\\])(\\\\)*\s/)?(e.pos=s,!1):(e.posMax=e.pos,e.pos=s+1,t||e.push({type:"sup",level:e.level,content:r.replace(Fn,"$1")}),e.pos=e.posMax+1,e.posMax=i,!0)):(e.pos=s,!1)}function Hn(e,t){var n,r,i,s,o,l,a,c,p=!1,h=e.pos,u=e.posMax,f=e.pos,d=e.src.charCodeAt(f);if(33===d&&(p=!0,d=e.src.charCodeAt(++f)),91!==d)return!1;if(e.level>=e.options.maxNesting)return!1;if(n=f+1,r=St(e,f),r<0)return!1;if(l=r+1,l<u&&40===e.src.charCodeAt(l)){for(l++;l<u;l++)if(c=e.src.charCodeAt(l),32!==c&&10!==c)break;if(l>=u)return!1;for(f=l,Tt(e,l)?(s=e.linkContent,l=e.pos):s="",f=l;l<u;l++)if(c=e.src.charCodeAt(l),32!==c&&10!==c)break;if(l<u&&f!==l&&Et(e,l)){for(o=e.linkContent,l=e.pos;l<u;l++)if(c=e.src.charCodeAt(l),32!==c&&10!==c)break}else o="";if(l>=u||41!==e.src.charCodeAt(l))return e.pos=h,!1;l++}else{if(e.linkLevel>0)return!1;for(;l<u;l++)if(c=e.src.charCodeAt(l),32!==c&&10!==c)break;if(l<u&&91===e.src.charCodeAt(l)&&(f=l+1,l=St(e,l),l>=0?i=e.src.slice(f,l++):l=f-1),i||("undefined"===typeof i&&(l=r+1),i=e.src.slice(n,r)),a=e.env.references[It(i)],!a)return e.pos=h,!1;s=a.href,o=a.title}return t||(e.pos=n,e.posMax=r,p?e.push({type:"image",src:s,title:o,alt:e.src.substr(n,r-n),level:e.level}):(e.push({type:"link_open",href:s,title:o,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=l,e.posMax=u,!0}function Wn(e,t){var n,r,i,s,o=e.posMax,l=e.pos;return!(l+2>=o)&&(94===e.src.charCodeAt(l)&&(91===e.src.charCodeAt(l+1)&&(!(e.level>=e.options.maxNesting)&&(n=l+2,r=St(e,l+1),!(r<0)&&(t||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),i=e.env.footnotes.list.length,e.pos=n,e.posMax=r,e.push({type:"footnote_ref",id:i,level:e.level}),e.linkLevel++,s=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[i]={tokens:e.tokens.splice(s)},e.linkLevel--),e.pos=r+1,e.posMax=o,!0)))))}function Qn(e,t){var n,r,i,s,o=e.posMax,l=e.pos;if(l+3>o)return!1;if(!e.env.footnotes||!e.env.footnotes.refs)return!1;if(91!==e.src.charCodeAt(l))return!1;if(94!==e.src.charCodeAt(l+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(r=l+2;r<o;r++){if(32===e.src.charCodeAt(r))return!1;if(10===e.src.charCodeAt(r))return!1;if(93===e.src.charCodeAt(r))break}return r!==l+2&&(!(r>=o)&&(r++,n=e.src.slice(l+2,r-1),"undefined"!==typeof e.env.footnotes.refs[":"+n]&&(t||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+n]<0?(i=e.env.footnotes.list.length,e.env.footnotes.list[i]={label:n,count:0},e.env.footnotes.refs[":"+n]=i):i=e.env.footnotes.refs[":"+n],s=e.env.footnotes.list[i].count,e.env.footnotes.list[i].count++,e.push({type:"footnote_ref",id:i,subId:s,level:e.level})),e.pos=r,e.posMax=o,!0)))}var Gn=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],Yn=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,Kn=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function Xn(e,t){var n,r,i,s,o,l=e.pos;return 60===e.src.charCodeAt(l)&&(n=e.src.slice(l),!(n.indexOf(">")<0)&&(r=n.match(Kn),r?!(Gn.indexOf(r[1].toLowerCase())<0)&&(s=r[0].slice(1,-1),o=zt(s),!!e.parser.validateLink(s)&&(t||(e.push({type:"link_open",href:o,level:e.level}),e.push({type:"text",content:s,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=r[0].length,!0)):(i=n.match(Yn),!!i&&(s=i[0].slice(1,-1),o=zt("mailto:"+s),!!e.parser.validateLink(o)&&(t||(e.push({type:"link_open",href:o,level:e.level}),e.push({type:"text",content:s,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=i[0].length,!0)))))}function Jn(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,e=e.replace(r,i),n):new RegExp(e,t)}}var er=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,tr=/[^"'=<>`\x00-\x20]+/,nr=/'[^']*'/,rr=/"[^"]*"/,ir=Jn(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",tr)("single_quoted",nr)("double_quoted",rr)(),sr=Jn(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",er)("attr_value",ir)(),or=Jn(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",sr)(),lr=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,ar=/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,cr=/<[?].*?[?]>/,pr=/<![A-Z]+\s+[^>]*>/,hr=/<!\[CDATA\[[\s\S]*?\]\]>/,ur=Jn(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",or)("close_tag",lr)("comment",ar)("processing",cr)("declaration",pr)("cdata",hr)();function fr(e){var t=32|e;return t>=97&&t<=122}function dr(e,t){var n,r,i,s=e.pos;return!!e.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(s)||s+2>=i)&&(n=e.src.charCodeAt(s+1),!(33!==n&&63!==n&&47!==n&&!fr(n))&&(r=e.src.slice(s).match(ur),!!r&&(t||e.push({type:"htmltag",content:e.src.slice(s,s+r[0].length),level:e.level}),e.pos+=r[0].length,!0))))}var gr=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,kr=/^&([a-z][a-z0-9]{1,31});/i;function mr(e,t){var n,r,i,s=e.pos,o=e.posMax;if(38!==e.src.charCodeAt(s))return!1;if(s+1<o)if(n=e.src.charCodeAt(s+1),35===n){if(i=e.src.slice(s).match(gr),i)return t||(r="x"===i[1][0].toLowerCase()?parseInt(i[1].slice(1),16):parseInt(i[1],10),e.pending+=at(r)?ct(r):ct(65533)),e.pos+=i[0].length,!0}else if(i=e.src.slice(s).match(kr),i){var l=nt(i[1]);if(i[1]!==l)return t||(e.pending+=l),e.pos+=i[0].length,!0}return t||(e.pending+="&"),e.pos++,!0}var br=[["text",Tn],["newline",En],["escape",Dn],["backticks",On],["del",Nn],["ins",Ln],["mark",jn],["emphasis",Pn],["sub",Un],["sup",Vn],["links",Hn],["footnote_inline",Wn],["footnote_ref",Qn],["autolink",Xn],["htmltag",dr],["entity",mr]];function _r(){this.ruler=new wt;for(var e=0;e<br.length;e++)this.ruler.push(br[e][0],br[e][1]);this.validateLink=vr}function vr(e){var t=["vbscript","javascript","file","data"],n=e.trim().toLowerCase();return n=ft(n),-1===n.indexOf(":")||-1===t.indexOf(n.split(":")[0])}_r.prototype.skipToken=function(e){var t,n,r=this.ruler.getRules(""),i=r.length,s=e.pos;if((n=e.cacheGet(s))>0)e.pos=n;else{for(t=0;t<i;t++)if(r[t](e,!0))return void e.cacheSet(s,e.pos);e.pos++,e.cacheSet(s,e.pos)}},_r.prototype.tokenize=function(e){var t,n,r=this.ruler.getRules(""),i=r.length,s=e.posMax;while(e.pos<s){for(n=0;n<i;n++)if(t=r[n](e,!1),t)break;if(t){if(e.pos>=s)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},_r.prototype.parse=function(e,t,n,r){var i=new Ct(e,this,t,n,r);this.tokenize(i)};var xr={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},yr={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},wr={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}},Ar={default:xr,full:yr,commonmark:wr};function Cr(e,t,n){this.src=t,this.env=n,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function Sr(e,t){"string"!==typeof e&&(t=e,e="default"),t&&null!=t.linkify&&console.warn("linkify option is removed. Use linkify plugin instead:\n\nimport Remarkable from 'remarkable';\nimport linkify from 'remarkable/linkify';\nnew Remarkable().use(linkify)\n"),this.inline=new _r,this.block=new Cn,this.core=new Jt,this.renderer=new yt,this.ruler=new wt,this.options={},this.configure(Ar[e]),this.set(t||{})}Sr.prototype.set=function(e){st(this.options,e)},Sr.prototype.configure=function(e){var t=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(n){e.components[n].rules&&t[n].ruler.enable(e.components[n].rules,!0)}))},Sr.prototype.use=function(e,t){return e(this,t),this},Sr.prototype.parse=function(e,t){var n=new Cr(this,e,t);return this.core.process(n),n.tokens},Sr.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},Sr.prototype.parseInline=function(e,t){var n=new Cr(this,e,t);return n.inlineMode=!0,this.core.process(n),n.tokens},Sr.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};var Mr=n(7123);const $r=v().create({withCredentials:!0});var zr={components:{QuillEditor:x.Bn},props:{mode:{required:!0,type:String,validator:e=>["new","edit"].includes(e.toLowerCase())},visible:!1,formData:{title:"",text:"",description:"",preview:"",category_name:"",image_list:[],tags_array:new Set,options_object:{},options_array:[]}},data(){return{textMd2:"",textEditMode:"md2",formValid:!1,preview_list:[],options_object:{"Материал":{"Размер 1":2e3,"Размер 2":3e3}},distinct_materials:[],distinct_sizes:[],tempSize:0,tempMaterial:0}},updated(){this.options_object={},this.formData.options_array=this.formData.options_array?.filter((({material:e,price:t,size:n})=>!!(e||n||t))),this.distinct_materials=[...new Set(this.formData.options_array?.map((({material:e})=>e)))],this.distinct_sizes=[...new Set(this.formData.options_array?.map((({size:e})=>e)))];const e=new Sr("full",{html:!0,xhtmlOut:!1,breaks:!1});console.log(e.render(this.formData.description?.replaceAll("\r\n\r\n","<br/>"))),console.log(et.parse(this.formData.description?.replaceAll("\r\n\r\n","<br/>"))),this.formData.description&&this.$refs.postTextEditor.pasteHTML(et.parse(this.formData.description?.replaceAll(" \r\n\r\n","<p> <p/>\r\n\r\n")));for(let{size:t,material:n,price:r}of this.formData.options_array)this.options_object[n]?this.options_object[n][t]=r:this.options_object[n]={[t]:r};console.log(this.options_object),this.preview_list=this.formData.image_list?.filter((e=>e))?.map((e=>`${this.$store.state.publicPath}/public/pics/${e}`)),document.getElementsByClassName("ql-toolbar")?.[0]?.classList.add("hidden")},async mounted(){this.projects=await this.getProjects(),console.log(this.tags,this.projects)},methods:{addMaterial(e){let t=Object.values(this.options_object)?.[0]??{};console.log(t),t=Object.fromEntries(Object.entries(t)?.map((([e])=>[e,0]))),console.log(t),this.options_object[e]=t,this.distinct_materials.push(e),this.tempMaterial=""},addSize(e){const t=Object.entries(this.options_object)?.map((([t,n])=>[t,Object.assign(n??{},{[e]:0})]));this.options_object=Object.fromEntries(t),this.tempSize="",this.distinct_sizes.push(e)},dropMaterial(e){delete this.options_object[e],this.distinct_materials=this.distinct_materials?.filter((t=>t!==e))},dropSize(e){for(let t in this.options_object)delete this.options_object[t][e];this.distinct_sizes=this.distinct_sizes?.filter((t=>t!==e))},async getProjects(){return await $r.get(this.$store.state.publicPath+"/api/categories/").then((e=>e.data)).catch((e=>{Mr.Z.$emit("noresponse",e)}))},previewMultiImage(e){var t=e.target,n=t.files.length,r=0;if(this.formData.preview=t.files[0],this.preview_list||(this.preview_list=[]),this.formData.image_list||(this.formData.image_list=[]),t.files)while(n--){var i=new FileReader;i.onload=e=>{this.preview_list.push(e.target.result)},this.formData.image_list.push(t.files[r]),i.readAsDataURL(t.files[r]),r++}},reset(){this.formData.image_list=[],this.preview_list=[]},dropFile(e){this.formData.image_list?.splice(e,1),this.preview_list?.splice(e,1)},addNewPost(){Mr.Z.$emit("addNewPost")},changeP(e){this.formData.category_name=e.target.value},closeModal(){Mr.Z.$emit("closeModal")},constractFromData(e){if(!this.formData.title||!this.$refs.postTextEditor.getHTML())throw new Error;var t=new FormData;t.append("title",this.formData.title);const n=new ue({headingStyle:"atx"});return t.append("description",n.turndown(this.$refs.postTextEditor.getHTML())),this.formData.image_list?.forEach((e=>{t.append("images[]",e)})),this.formData.category_name&&t.append("categoryName",this.formData.category_name),t.append("optionsObject",JSON.stringify(this.options_object)),e&&t.append("id",this.formData.id),t},addNewing(){try{const e=this.constractFromData();$r.post(this.$store.state.publicPath+"/api/admin/items",e,{headers:{"Content-Type":"multipart/form-data"}}).then((()=>{Mr.Z.$emit("postAdded")})).catch((e=>{Mr.Z.$emit("noresponse",e)}))}catch(e){this.formValid=!0}},editNewing(){try{const e=this.constractFromData(!0);$r.put(this.$store.state.publicPath+"/api/admin/items",e,{headers:{"Content-Type":"multipart/form-data"}}).then((()=>{Mr.Z.$emit("postEdited")})).catch((e=>{Mr.Z.$emit("noresponse",e)}))}catch(e){console.log(e),this.formValid=!0}}}},Tr=n(89);const Er=(0,Tr.Z)(zr,[["render",b],["__scopeId","data-v-4ce18204"]]);var Ir=Er,Rr=n(7942);const Dr=v().create({withCredentials:!0,credentials:"include"});var Or={components:{AddItemModal:Ir,Table:Rr.Z},props:["tag","project"],data(){return{myApi:Dr,formVisible:!1,formData:{},rows:[],dataActions:{"Дублировать":{action:this.duble,color:"primary"},"Изменить":{action:this.change,color:"warning"},"Удалить":{action:this.delete,color:"danger"}},tableFieldNames:[{name:"title",title:"Название"},{name:"description",title:"Описание"},{name:"publication_date",title:"Дата добавления"}]}},created(){Mr.Z.$on("addNewPost",(()=>{this.formMode="new",this.formData={category:this.$route.params.categoryName},this.formVisible=!0})),Mr.Z.$on("closeModal",(()=>{this.formVisible=!1,this.formData={}})),Mr.Z.$on("postAdded",(()=>{this.formVisible=!1,this.get(),this.formData={}})),Mr.Z.$on("postEdited",(()=>{this.formVisible=!1,this.get(),this.formData={}}))},methods:{change(e){this.formVisible=!0,e.tags_array=new Set(e.tags_array),this.formData=e,console.log(e),this.formMode="edit"},constractFromData(e){var t=new FormData;t.append("title",e.title),t.append("description",e.description),e.image_list?.forEach((e=>{t.append("images[]",e)})),e.category_name&&t.append("categoryName",e.category_name);const n={};for(let{size:r,material:i,price:s}of e.options_array)(i||r||s)&&(n[i]?n[i][r]=s:n[i]={size:s});return t.append("optionsObject",JSON.stringify(n)),t},duble(e){try{const t=this.constractFromData(e);Dr.post(this.$store.state.publicPath+"/api/admin/items",t,{headers:{"Content-Type":"multipart/form-data"}}).then((()=>{Mr.Z.$emit("postAdded")})).catch((e=>{Mr.Z.$emit("noresponse",e)}))}catch(t){this.formValid=!0}},get(e,t){return console.log(this.tag),Dr.get(this.$store.state.publicPath+"/api/admin/items/",{params:{take:e??10,page:t??1,tagsArray:this.$route.params.tag?[this.$route.params.tag]:void 0,category:this.$route.params.categoryName}}).then((e=>(e.data?.length>0&&(this.rows=e.data),e.data))).catch((e=>(Mr.Z.$emit("noresponse",e),!1)))},delete(e){const t=confirm("Вы действительно хотите удалить позицию из каталога?");if(t)return Dr.delete(this.$store.state.publicPath+"/api/admin/items/",{data:{id:e.id}}).then((()=>{this.get(),Mr.Z.$emit("postDeleted")})).catch((e=>{Mr.Z.$emit("noresponse",e)}))}}};const Nr=(0,Tr.Z)(Or,[["render",i]]);var Lr=Nr}}]);
//# sourceMappingURL=827.c35e3a9b.js.map